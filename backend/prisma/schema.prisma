generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Lead {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId // MongoDB ObjectId
  name          String
  residenceAdd  String
  contactNo     String
  email         String
  requirement   Requirement
  budget        String
  howHeard      HowHeard[]
  referredBy    Agent?   @relation(fields: [agentId], references: [id])
  agentId       String?  @db.ObjectId// Foreign key to Agent
  projectDetail String?
  location      String?
  createdAt     DateTime @default(now())
}

model Agent {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  email       String   @unique
  password    String?  // Made optional
  image       String?  // Optional Google profile picture
  referralIds String[]
  leads       Lead[]
}

enum Requirement {
  R_1RK @map("1RK")
  R_1BHK @map("1BHK")
  R_2BHK @map("2BHK")
  R_3BHK @map("3BHK")
  R_4BHK @map("4BHK")
  SHOP
}


enum HowHeard {
  HORDING
  FRIENDS
  STANDEY
  OTHER_SOURCES
}